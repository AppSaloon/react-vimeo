/*
 * React Video - React component to load video from Vimeo or Youtube across any device
 * @version v1.0.0
 * @link https://github.com/pedronauck/react-video
 * @license MIT
 * @author Pedro Nauck (https://github.com/pedronauck)
*/
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.ReactVideo=e(require("react")):t.ReactVideo=e(t.React)}(this,function(t){return function(t){function e(i){if(o[i])return o[i].exports;var r=o[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){var i=o(1),r=(o(2),o(3)),s=o(4),n=o(5);t.exports=i.createClass({displayName:"Video",propTypes:{from:i.PropTypes.oneOf(["youtube","vimeo"]),id:i.PropTypes.string},getDefaultProps:function(){return{className:"video"}},getInitialState:function(){return{width:0,height:0,thumb:null,imageLoaded:!1,showingVideo:!1}},componentDidMount:function(){this.getSizes(),"youtube"===this.props.from&&this.fetchYoutubeData(),"vimeo"===this.props.from&&this.fetchVimeoData()},render:function(){var t=this.props.from+"-video",e={width:this.state.width,height:this.state.height};return i.DOM.div({className:this.props.className,style:e},i.DOM.div({className:t},!this.state.imageLoaded&&n(null),this.renderImage(),this.renderIframe()))},renderImage:function(){var t={width:this.state.width,height:this.state.height,backgroundImage:"url("+this.state.thumb+")"};return this.state.imageLoaded&&!this.state.showingVideo?i.DOM.div({className:"video-image",style:t},s({onClick:this.playVideo})):void 0},renderIframe:function(){var t={display:this.state.showingVideo?"block":"none"};return this.state.showingVideo?i.DOM.div({className:"video-embed",style:t},i.DOM.iframe({frameborder:"0",src:this.getIframeUrl(),width:this.state.width,height:this.state.height})):void 0},playVideo:function(t){this.setState({showingVideo:!0}),t.preventDefault()},getIframeUrl:function(){return"youtube"===this.props.from?"//youtube.com/embed/"+this.props.id+"?autoplay=1":"vimeo"===this.props.from?"//player.vimeo.com/video/"+this.props.id+"?autoplay=1":void 0},getSizes:function(){var t=this.getDOMNode(),e=t.parentNode,o=e.clientWidth||600;this.setState({width:o,height:this.getProportionalHeight(o)})},getProportionalHeight:function(t){return.5625*t},fetchYoutubeData:function(){var t=this.props.id,e="https://gdata.youtube.com/feeds/api/videos/"+t+"?v=2&alt=json";r.get(e,function(t,e){var o=e.entry.media$group.media$thumbnail,i=o.sort(function(t,e){return e.width-t.width})[0].url;this.setState({thumb:i,imageLoaded:!0})}.bind(this))},fetchVimeoData:function(){var t=this.props.id,e="http://vimeo.com/api/v2/video/"+t+".json";r.get(e,function(t,e){this.setState({thumb:e[0].thumbnail_large,imageLoaded:!0})}.bind(this))}})},function(e){e.exports=t},function(t){t.exports=function(t){return"object"!=typeof t?Array.prototype.join.call(arguments," "):Object.keys(t).filter(function(e){return t[e]}).join(" ")}},function(t){var e=function(t,e){var o=new XMLHttpRequest;o.open("GET",t,!0),o.onload=function(){200===o.status&&o.status<400?e(null,JSON.parse(o.responseText)):e({error:"Sorry, an error ocurred on the server"},null)},o.onerror=function(){e({error:"Problem with your internet conection"},null)},o.send()};t.exports={get:e}},function(t,e,o){var i=o(1);t.exports=i.createClass({displayName:"exports",propTypes:{onClick:i.PropTypes.func},render:function(){return i.DOM.button({type:"button",className:"video-play-button",onClick:this.props.onClick},i.DOM.svg({xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 100 100"},i.DOM.path({d:"M79.674,53.719c2.59-2.046,2.59-5.392,0-7.437L22.566,1.053C19.977-0.993,18,0.035,18,3.335v93.331c0,3.3,1.977,4.326,4.566,2.281L79.674,53.719z"})))}})},function(t,e,o){var i=o(1);t.exports=i.createClass({displayName:"exports",render:function(){return i.DOM.div({className:"video-loading"},i.DOM.svg({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"32",height:"32"},i.DOM.path({opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),i.DOM.path({d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})))}})}])});